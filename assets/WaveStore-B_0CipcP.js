import{by as te,aZ as M,a as _t,bz as qe,a$ as Tt,i as re,aT as ve,bA as wt,a_ as Ct,aR as At,b as Q,bB as me,bC as Y,bD as Ze,bE as $t,bF as D,S as _e,aS as St,h as m,av as Et,W as oe,b2 as Ve,t as i,K as H,bG as Ot,b3 as Pt,d as Je,e as X,f as L,g as b,u as R,ak as G,ac as Te,p as I,q as w,y as j,Q as ye,B as J,ad as Qe,v as ie,x as W,s as C,a8 as xt,z as Ye,aH as Xe,aa as ke,D as et,ag as Bt,ai as se,I as It,at as tt,am as jt,bH as Mt,bI as Lt,bJ as we,an as Nt,a0 as zt,aw as Dt,aB as Rt,A as F,r as Z,E as Ce,C as Ft,L as Ht,P as Ut,bK as Gt,bL as Wt,ap as Kt,bM as qt,bN as E,o as Ae,bl as st,n as le,aj as $e,bj as Se,bv as Zt,bO as Vt,bP as he,ar as ue}from"./index-5zBs-h12.js";var ce=te(M,"WeakMap"),Ee=Object.create,Jt=function(){function e(){}return function(t){if(!_t(t))return{};if(Ee)return Ee(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();function Qt(e){return e!=null&&qe(e.length)&&!Tt(e)}var Yt=Object.prototype;function nt(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||Yt;return e===s}function Xt(e,t){for(var s=-1,n=Array(e);++s<e;)n[s]=t(s);return n}function kt(){return!1}var at=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oe=at&&typeof module=="object"&&module&&!module.nodeType&&module,es=Oe&&Oe.exports===at,Pe=es?M.Buffer:void 0,ts=Pe?Pe.isBuffer:void 0,fe=ts||kt,ss="[object Arguments]",ns="[object Array]",as="[object Boolean]",rs="[object Date]",os="[object Error]",is="[object Function]",ls="[object Map]",us="[object Number]",cs="[object Object]",fs="[object RegExp]",ds="[object Set]",ps="[object String]",gs="[object WeakMap]",vs="[object ArrayBuffer]",ms="[object DataView]",ys="[object Float32Array]",hs="[object Float64Array]",bs="[object Int8Array]",_s="[object Int16Array]",Ts="[object Int32Array]",ws="[object Uint8Array]",Cs="[object Uint8ClampedArray]",As="[object Uint16Array]",$s="[object Uint32Array]",f={};f[ys]=f[hs]=f[bs]=f[_s]=f[Ts]=f[ws]=f[Cs]=f[As]=f[$s]=!0;f[ss]=f[ns]=f[vs]=f[as]=f[ms]=f[rs]=f[os]=f[is]=f[ls]=f[us]=f[cs]=f[fs]=f[ds]=f[ps]=f[gs]=!1;function Ss(e){return re(e)&&qe(e.length)&&!!f[ve(e)]}function Es(e){return function(t){return e(t)}}var rt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,U=rt&&typeof module=="object"&&module&&!module.nodeType&&module,Os=U&&U.exports===rt,ne=Os&&wt.process,xe=function(){try{var e=U&&U.require&&U.require("util").types;return e||ne&&ne.binding&&ne.binding("util")}catch{}}(),Be=xe&&xe.isTypedArray,ot=Be?Es(Be):Ss,Ps=Object.prototype,xs=Ps.hasOwnProperty;function Bs(e,t){var s=Q(e),n=!s&&Ct(e),o=!s&&!n&&fe(e),r=!s&&!n&&!o&&ot(e),a=s||n||o||r,l=a?Xt(e.length,String):[],c=l.length;for(var u in e)(t||xs.call(e,u))&&!(a&&(u=="length"||o&&(u=="offset"||u=="parent")||r&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||At(u,c)))&&l.push(u);return l}function it(e,t){return function(s){return e(t(s))}}var Is=it(Object.keys,Object),js=Object.prototype,Ms=js.hasOwnProperty;function Ls(e){if(!nt(e))return Is(e);var t=[];for(var s in Object(e))Ms.call(e,s)&&s!="constructor"&&t.push(s);return t}function Ns(e){return Qt(e)?Bs(e):Ls(e)}var zs=it(Object.getPrototypeOf,Object);function Ds(){this.__data__=new me,this.size=0}function Rs(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}function Fs(e){return this.__data__.get(e)}function Hs(e){return this.__data__.has(e)}var Us=200;function Gs(e,t){var s=this.__data__;if(s instanceof me){var n=s.__data__;if(!Y||n.length<Us-1)return n.push([e,t]),this.size=++s.size,this;s=this.__data__=new Ze(n)}return s.set(e,t),this.size=s.size,this}function B(e){var t=this.__data__=new me(e);this.size=t.size}B.prototype.clear=Ds;B.prototype.delete=Rs;B.prototype.get=Fs;B.prototype.has=Hs;B.prototype.set=Gs;var lt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ie=lt&&typeof module=="object"&&module&&!module.nodeType&&module,Ws=Ie&&Ie.exports===lt,je=Ws?M.Buffer:void 0,Me=je?je.allocUnsafe:void 0;function va(e,t){if(t)return e.slice();var s=e.length,n=Me?Me(s):new e.constructor(s);return e.copy(n),n}function Ks(e,t){for(var s=-1,n=e==null?0:e.length,o=0,r=[];++s<n;){var a=e[s];t(a,s,e)&&(r[o++]=a)}return r}function qs(){return[]}var Zs=Object.prototype,Vs=Zs.propertyIsEnumerable,Le=Object.getOwnPropertySymbols,Js=Le?function(e){return e==null?[]:(e=Object(e),Ks(Le(e),function(t){return Vs.call(e,t)}))}:qs;function Qs(e,t,s){var n=t(e);return Q(e)?n:$t(n,s(e))}function Ne(e){return Qs(e,Ns,Js)}var de=te(M,"DataView"),pe=te(M,"Promise"),ge=te(M,"Set"),ze="[object Map]",Ys="[object Object]",De="[object Promise]",Re="[object Set]",Fe="[object WeakMap]",He="[object DataView]",Xs=D(de),ks=D(Y),en=D(pe),tn=D(ge),sn=D(ce),x=ve;(de&&x(new de(new ArrayBuffer(1)))!=He||Y&&x(new Y)!=ze||pe&&x(pe.resolve())!=De||ge&&x(new ge)!=Re||ce&&x(new ce)!=Fe)&&(x=function(e){var t=ve(e),s=t==Ys?e.constructor:void 0,n=s?D(s):"";if(n)switch(n){case Xs:return He;case ks:return ze;case en:return De;case tn:return Re;case sn:return Fe}return t});var k=M.Uint8Array;function nn(e){var t=new e.constructor(e.byteLength);return new k(t).set(new k(e)),t}function ma(e,t){var s=t?nn(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function ya(e){return typeof e.constructor=="function"&&!nt(e)?Jt(zs(e)):{}}var an="__lodash_hash_undefined__";function rn(e){return this.__data__.set(e,an),this}function on(e){return this.__data__.has(e)}function ee(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new Ze;++t<s;)this.add(e[t])}ee.prototype.add=ee.prototype.push=rn;ee.prototype.has=on;function ln(e,t){for(var s=-1,n=e==null?0:e.length;++s<n;)if(t(e[s],s,e))return!0;return!1}function un(e,t){return e.has(t)}var cn=1,fn=2;function ut(e,t,s,n,o,r){var a=s&cn,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=r.get(e),p=r.get(t);if(u&&p)return u==t&&p==e;var v=-1,g=!0,_=s&fn?new ee:void 0;for(r.set(e,t),r.set(t,e);++v<l;){var h=e[v],T=t[v];if(n)var A=a?n(T,h,v,t,e,r):n(h,T,v,e,t,r);if(A!==void 0){if(A)continue;g=!1;break}if(_){if(!ln(t,function(O,S){if(!un(_,S)&&(h===O||o(h,O,s,n,r)))return _.push(S)})){g=!1;break}}else if(!(h===T||o(h,T,s,n,r))){g=!1;break}}return r.delete(e),r.delete(t),g}function dn(e){var t=-1,s=Array(e.size);return e.forEach(function(n,o){s[++t]=[o,n]}),s}function pn(e){var t=-1,s=Array(e.size);return e.forEach(function(n){s[++t]=n}),s}var gn=1,vn=2,mn="[object Boolean]",yn="[object Date]",hn="[object Error]",bn="[object Map]",_n="[object Number]",Tn="[object RegExp]",wn="[object Set]",Cn="[object String]",An="[object Symbol]",$n="[object ArrayBuffer]",Sn="[object DataView]",Ue=_e?_e.prototype:void 0,ae=Ue?Ue.valueOf:void 0;function En(e,t,s,n,o,r,a){switch(s){case Sn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $n:return!(e.byteLength!=t.byteLength||!r(new k(e),new k(t)));case mn:case yn:case _n:return St(+e,+t);case hn:return e.name==t.name&&e.message==t.message;case Tn:case Cn:return e==t+"";case bn:var l=dn;case wn:var c=n&gn;if(l||(l=pn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;n|=vn,a.set(e,t);var p=ut(l(e),l(t),n,o,r,a);return a.delete(e),p;case An:if(ae)return ae.call(e)==ae.call(t)}return!1}var On=1,Pn=Object.prototype,xn=Pn.hasOwnProperty;function Bn(e,t,s,n,o,r){var a=s&On,l=Ne(e),c=l.length,u=Ne(t),p=u.length;if(c!=p&&!a)return!1;for(var v=c;v--;){var g=l[v];if(!(a?g in t:xn.call(t,g)))return!1}var _=r.get(e),h=r.get(t);if(_&&h)return _==t&&h==e;var T=!0;r.set(e,t),r.set(t,e);for(var A=a;++v<c;){g=l[v];var O=e[g],S=t[g];if(n)var K=a?n(S,O,g,t,e,r):n(O,S,g,e,t,r);if(!(K===void 0?O===S||o(O,S,s,n,r):K)){T=!1;break}A||(A=g=="constructor")}if(T&&!A){var N=e.constructor,P=t.constructor;N!=P&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof P=="function"&&P instanceof P)&&(T=!1)}return r.delete(e),r.delete(t),T}var In=1,Ge="[object Arguments]",We="[object Array]",V="[object Object]",jn=Object.prototype,Ke=jn.hasOwnProperty;function Mn(e,t,s,n,o,r){var a=Q(e),l=Q(t),c=a?We:x(e),u=l?We:x(t);c=c==Ge?V:c,u=u==Ge?V:u;var p=c==V,v=u==V,g=c==u;if(g&&fe(e)){if(!fe(t))return!1;a=!0,p=!1}if(g&&!p)return r||(r=new B),a||ot(e)?ut(e,t,s,n,o,r):En(e,t,c,s,n,o,r);if(!(s&In)){var _=p&&Ke.call(e,"__wrapped__"),h=v&&Ke.call(t,"__wrapped__");if(_||h){var T=_?e.value():e,A=h?t.value():t;return r||(r=new B),o(T,A,s,n,r)}}return g?(r||(r=new B),Bn(e,t,s,n,o,r)):!1}function ct(e,t,s,n,o){return e===t?!0:e==null||t==null||!re(e)&&!re(t)?e!==e&&t!==t:Mn(e,t,s,n,ct,o)}function ha(e,t){return ct(e,t)}const ft=e=>{const t=Et();return m(()=>{var s,n;return(n=(s=t==null?void 0:t.proxy)==null?void 0:s.$props)==null?void 0:n[e]})},ba=(e,t={})=>{const s=H(void 0),n=t.prop?s:ft("size"),o=t.global?s:Ot(),r=t.form?{size:void 0}:oe(Ve,void 0),a=t.formItem?{size:void 0}:oe(Pt,void 0);return m(()=>n.value||i(e)||(a==null?void 0:a.size)||(r==null?void 0:r.size)||o.value||"")},_a=e=>{const t=ft("disabled"),s=oe(Ve,void 0);return m(()=>t.value||i(e)||(s==null?void 0:s.disabled)||!1)},Ln=Je({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:X([String,Object,Array])},offset:{type:X(Array),default:[0,0]},badgeClass:{type:String}}),Nn=b({name:"ElBadge"}),zn=b({...Nn,props:Ln,setup(e,{expose:t}){const s=e,n=R("badge"),o=m(()=>s.isDot?"":G(s.value)&&G(s.max)?s.max<s.value?`${s.max}+`:`${s.value}`:`${s.value}`),r=m(()=>{var a,l,c,u,p;return[{backgroundColor:s.color,marginRight:Te(-((l=(a=s.offset)==null?void 0:a[0])!=null?l:0)),marginTop:Te((u=(c=s.offset)==null?void 0:c[1])!=null?u:0)},(p=s.badgeStyle)!=null?p:{}]});return t({content:o}),(a,l)=>(w(),I("div",{class:C(i(n).b())},[j(a.$slots,"default"),ye(ke,{name:`${i(n).namespace.value}-zoom-in-center`,persisted:""},{default:J(()=>[Qe(ie("sup",{class:C([i(n).e("content"),i(n).em("content",a.type),i(n).is("fixed",!!a.$slots.default),i(n).is("dot",a.isDot),i(n).is("hide-zero",!a.showZero&&s.value===0),a.badgeClass]),style:W(i(r))},[j(a.$slots,"content",{value:i(o)},()=>[xt(Ye(i(o)),1)])],6),[[Xe,!a.hidden&&(i(o)||a.isDot||a.$slots.content)]])]),_:3},8,["name"])],2))}});var Dn=L(zn,[["__file","badge.vue"]]);const Rn=et(Dn),Fn=b({name:"ElContainer"}),Hn=b({...Fn,props:{direction:{type:String}},setup(e){const t=e,s=Bt(),n=R("container"),o=m(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:s&&s.default?s.default().some(a=>{const l=a.type.name;return l==="ElHeader"||l==="ElFooter"}):!1);return(r,a)=>(w(),I("section",{class:C([i(n).b(),i(n).is("vertical",i(o))])},[j(r.$slots,"default")],2))}});var Un=L(Hn,[["__file","container.vue"]]);const Gn=b({name:"ElAside"}),Wn=b({...Gn,props:{width:{type:String,default:null}},setup(e){const t=e,s=R("aside"),n=m(()=>t.width?s.cssVarBlock({width:t.width}):{});return(o,r)=>(w(),I("aside",{class:C(i(s).b()),style:W(i(n))},[j(o.$slots,"default")],6))}});var dt=L(Wn,[["__file","aside.vue"]]);const Kn=b({name:"ElFooter"}),qn=b({...Kn,props:{height:{type:String,default:null}},setup(e){const t=e,s=R("footer"),n=m(()=>t.height?s.cssVarBlock({height:t.height}):{});return(o,r)=>(w(),I("footer",{class:C(i(s).b()),style:W(i(n))},[j(o.$slots,"default")],6))}});var pt=L(qn,[["__file","footer.vue"]]);const Zn=b({name:"ElHeader"}),Vn=b({...Zn,props:{height:{type:String,default:null}},setup(e){const t=e,s=R("header"),n=m(()=>t.height?s.cssVarBlock({height:t.height}):{});return(o,r)=>(w(),I("header",{class:C(i(s).b()),style:W(i(n))},[j(o.$slots,"default")],6))}});var gt=L(Vn,[["__file","header.vue"]]);const Jn=b({name:"ElMain"}),Qn=b({...Jn,setup(e){const t=R("main");return(s,n)=>(w(),I("main",{class:C(i(t).b())},[j(s.$slots,"default")],2))}});var vt=L(Qn,[["__file","main.vue"]]);const Ta=et(Un,{Aside:dt,Footer:pt,Header:gt,Main:vt}),wa=se(dt);se(pt);const Ca=se(gt),Aa=se(vt),mt=["success","info","warning","error"],y=It({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:tt?document.body:void 0}),Yn=Je({customClass:{type:String,default:y.customClass},dangerouslyUseHTMLString:{type:Boolean,default:y.dangerouslyUseHTMLString},duration:{type:Number,default:y.duration},icon:{type:jt,default:y.icon},id:{type:String,default:y.id},message:{type:X([String,Object,Function]),default:y.message},onClose:{type:X(Function),default:y.onClose},showClose:{type:Boolean,default:y.showClose},type:{type:String,values:mt,default:y.type},plain:{type:Boolean,default:y.plain},offset:{type:Number,default:y.offset},zIndex:{type:Number,default:y.zIndex},grouping:{type:Boolean,default:y.grouping},repeatNum:{type:Number,default:y.repeatNum}}),Xn={destroy:()=>!0},$=Mt([]),kn=e=>{const t=$.findIndex(o=>o.id===e),s=$[t];let n;return t>0&&(n=$[t-1]),{current:s,prev:n}},ea=e=>{const{prev:t}=kn(e);return t?t.vm.exposed.bottom.value:0},ta=(e,t)=>$.findIndex(n=>n.id===e)>0?16:t,sa=b({name:"ElMessage"}),na=b({...sa,props:Yn,emits:Xn,setup(e,{expose:t,emit:s}){const n=e,{Close:o}=Gt,r=H(!1),{ns:a,zIndex:l}=Lt("message"),{currentZIndex:c,nextZIndex:u}=l,p=H(),v=H(!1),g=H(0);let _;const h=m(()=>n.type?n.type==="error"?"danger":n.type:"info"),T=m(()=>{const d=n.type;return{[a.bm("icon",d)]:d&&we[d]}}),A=m(()=>n.icon||we[n.type]||""),O=m(()=>ea(n.id)),S=m(()=>ta(n.id,n.offset)+O.value),K=m(()=>g.value+S.value),N=m(()=>({top:`${S.value}px`,zIndex:c.value}));function P(){n.duration!==0&&({stop:_}=Wt(()=>{q()},n.duration))}function be(){_==null||_()}function q(){v.value=!1,Kt(()=>{var d;r.value||((d=n.onClose)==null||d.call(n),s("destroy"))})}function ht({code:d}){d===qt.esc&&q()}return Nt(()=>{P(),u(),v.value=!0}),zt(()=>n.repeatNum,()=>{be(),P()}),Dt(document,"keydown",ht),Rt(p,()=>{g.value=p.value.getBoundingClientRect().height}),t({visible:v,bottom:K,close:q}),(d,pa)=>(w(),F(ke,{name:i(a).b("fade"),onBeforeEnter:bt=>r.value=!0,onBeforeLeave:d.onClose,onAfterLeave:bt=>d.$emit("destroy"),persisted:""},{default:J(()=>[Qe(ie("div",{id:d.id,ref_key:"messageRef",ref:p,class:C([i(a).b(),{[i(a).m(d.type)]:d.type},i(a).is("closable",d.showClose),i(a).is("plain",d.plain),d.customClass]),style:W(i(N)),role:"alert",onMouseenter:be,onMouseleave:P},[d.repeatNum>1?(w(),F(i(Rn),{key:0,value:d.repeatNum,type:i(h),class:C(i(a).e("badge"))},null,8,["value","type","class"])):Z("v-if",!0),i(A)?(w(),F(i(Ce),{key:1,class:C([i(a).e("icon"),i(T)])},{default:J(()=>[(w(),F(Ft(i(A))))]),_:1},8,["class"])):Z("v-if",!0),j(d.$slots,"default",{},()=>[d.dangerouslyUseHTMLString?(w(),I(Ht,{key:1},[Z(" Caution here, message could've been compromised, never use user's input as message "),ie("p",{class:C(i(a).e("content")),innerHTML:d.message},null,10,["innerHTML"])],2112)):(w(),I("p",{key:0,class:C(i(a).e("content"))},Ye(d.message),3))]),d.showClose?(w(),F(i(Ce),{key:2,class:C(i(a).e("closeBtn")),onClick:Ut(q,["stop"])},{default:J(()=>[ye(i(o))]),_:1},8,["class","onClick"])):Z("v-if",!0)],46,["id"]),[[Xe,v.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var aa=L(na,[["__file","message.vue"]]);let ra=1;const yt=e=>{const t=!e||Ae(e)||st(e)||le(e)?{message:e}:e,s={...y,...t};if(!s.appendTo)s.appendTo=document.body;else if(Ae(s.appendTo)){let n=document.querySelector(s.appendTo);Zt(n)||(n=document.body),s.appendTo=n}return $e(E.grouping)&&!s.grouping&&(s.grouping=E.grouping),G(E.duration)&&s.duration===3e3&&(s.duration=E.duration),G(E.offset)&&s.offset===16&&(s.offset=E.offset),$e(E.showClose)&&!s.showClose&&(s.showClose=E.showClose),s},oa=e=>{const t=$.indexOf(e);if(t===-1)return;$.splice(t,1);const{handler:s}=e;s.close()},ia=({appendTo:e,...t},s)=>{const n=`message_${ra++}`,o=t.onClose,r=document.createElement("div"),a={...t,id:n,onClose:()=>{o==null||o(),oa(p)},onDestroy:()=>{Se(null,r)}},l=ye(aa,a,le(a.message)||st(a.message)?{default:le(a.message)?a.message:()=>a.message}:null);l.appContext=s||z._context,Se(l,r),e.appendChild(r.firstElementChild);const c=l.component,p={id:n,vnode:l,vm:c,handler:{close:()=>{c.exposed.close()}},props:l.component.props};return p},z=(e={},t)=>{if(!tt)return{close:()=>{}};const s=yt(e);if(s.grouping&&$.length){const o=$.find(({vnode:r})=>{var a;return((a=r.props)==null?void 0:a.message)===s.message});if(o)return o.props.repeatNum+=1,o.props.type=s.type,o.handler}if(G(E.max)&&$.length>=E.max)return{close:()=>{}};const n=ia(s,t);return $.push(n),n.handler};mt.forEach(e=>{z[e]=(t={},s)=>{const n=yt(t);return z({...n,type:e},s)}});function la(e){const t=[...$];for(const s of t)(!e||e===s.props.type)&&s.handler.close()}z.closeAll=la;z._context=null;const ua=Vt(z,"$message"),ca=he("character",{state:()=>({table:[],players:[]}),actions:{initCharTable(e){if(e.reduce((n,o)=>n+o.length,0)>25*30){alert("数据过多");return}this.table=e.map(n=>({...n,waveIndex:-1,teamIndex:-1,locked:!1}));const s=new Map;for(const n of this.table){const o=n.id;s.has(o)||s.set(o,{id:o,sup:0,carry:0,absent:!1});const r=s.get(o);n.ifsup===1||n.ifsup==="1"?r.sup++:(n.ifsup===0||n.ifsup==="0")&&r.carry++}this.players=Array.from(s.values())}},persist:{paths:["table","players"]}}),fa=he("teams",{state:()=>({teams:[],teamsPerWave:3}),actions:{initTeams(){const e=da(),{waves:t}=ue(e);this.teams=t.value.map(s=>({difficulty:s.difficulty,color:Array.from({length:this.teamsPerWave},()=>[])}))},addnormal(e="Normal"){this.teams.push({difficulty:e,color:Array.from({length:this.teamsPerWave},()=>[])})},addhard(e="Hard"){this.teams.push({difficulty:e,color:Array.from({length:this.teamsPerWave},()=>[])})},removeWave(e){e===-1&&(e=this.teams.length-1),!(e<0||e>=this.teams.length)&&this.teams.splice(e,1)}},persist:{paths:["teams"]}}),da=he("waveInfo",{state:()=>({waves:[],cube:{},lock:!1}),actions:{resetCube(){const e=ca(),{players:t}=ue(e),s=this.waves.length??0;ua({message:`players = ${t.value.length}, cols = ${s}`,type:"info",duration:3e3});const n={};for(const o of t.value)n[o.id]=Array(s).fill(0);this.cube=n},addnormal(e="Normal"){if(this.lock){alert("数据已锁定");return}this.waves.push({difficulty:e});for(const t in this.cube)this.cube[t].push(0)},addhard(e="Hard"){if(this.lock){alert("数据已锁定");return}this.waves.push({difficulty:e});for(const t in this.cube)this.cube[t].push(0)},removeWave(e){if(this.lock){alert("数据已锁定");return}e===-1&&(e=this.waves.length-1),this.waves.splice(e,1);for(const t in this.cube)e>=0&&e<this.cube[t].length&&this.cube[t].splice(e,1)},clearWaves(){this.waves=[],this.resetCube()},changeCubeState(e,t,s){var o;const n=((o=this.cube[e])==null?void 0:o[t])??0;this.cube[e][t]=(n+s)%3},syncData(){const e=fa(),{teams:t}=ue(e);this.resetCube(),t.value.forEach((s,n)=>{s.color.forEach((o,r)=>{o.forEach(a=>{this.cube[a.id][n]=a.ifsup+1})})})}},persist:{paths:["waves","cube"]}});export{ot as A,ua as E,B as S,ma as a,Es as b,nn as c,va as d,ya as e,Ne as f,x as g,ha as h,fe as i,ca as j,da as k,fa as l,Ca as m,xe as n,Ta as o,wa as p,Aa as q,ba as r,ft as s,Qt as t,_a as u,nt as v,Bs as w,zs as x,ct as y,Ns as z};
