import{aT as N,bQ as O,_ as l,f as a,ad as A,u,g as d,h as i,o as f,r as p,n as h,m as n,t as m,bG as _,v as H,bX as $}from"./index-DVM7qzFn.js";import{o as M,U as g,h as T}from"./use-form-common-props-HLaKXi2V.js";var y=Object.create,x=function(){function e(){}return function(t){if(!N(t))return{};if(y)return y(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}(),U=M(Object.getPrototypeOf,Object),C=typeof exports=="object"&&exports&&!exports.nodeType&&exports,w=C&&typeof module=="object"&&module&&!module.nodeType&&module,V=w&&w.exports===C,E=V?O.Buffer:void 0,S=E?E.allocUnsafe:void 0;function ee(e,t){if(t)return e.slice();var s=e.length,r=S?S(s):new e.constructor(s);return e.copy(r),r}function z(e){var t=new e.constructor(e.byteLength);return new g(t).set(new g(e)),t}function te(e,t){var s=t?z(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function se(e){return typeof e.constructor=="function"&&!T(e)?x(U(e)):{}}const F=a({name:"ElContainer"}),P=a({...F,props:{direction:{type:String}},setup(e){const t=e,s=A(),r=u("container"),o=d(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:s&&s.default?s.default().some(v=>{const b=v.type.name;return b==="ElHeader"||b==="ElFooter"}):!1);return(c,v)=>(f(),i("section",{class:h([n(r).b(),n(r).is("vertical",n(o))])},[p(c.$slots,"default")],2))}});var W=l(P,[["__file","container.vue"]]);const G=a({name:"ElAside"}),L=a({...G,props:{width:{type:String,default:null}},setup(e){const t=e,s=u("aside"),r=d(()=>t.width?s.cssVarBlock({width:t.width}):{});return(o,c)=>(f(),i("aside",{class:h(n(s).b()),style:m(n(r))},[p(o.$slots,"default")],6))}});var I=l(L,[["__file","aside.vue"]]);const Q=a({name:"ElFooter"}),X=a({...Q,props:{height:{type:String,default:null}},setup(e){const t=e,s=u("footer"),r=d(()=>t.height?s.cssVarBlock({height:t.height}):{});return(o,c)=>(f(),i("footer",{class:h(n(s).b()),style:m(n(r))},[p(o.$slots,"default")],6))}});var k=l(X,[["__file","footer.vue"]]);const q=a({name:"ElHeader"}),J=a({...q,props:{height:{type:String,default:null}},setup(e){const t=e,s=u("header"),r=d(()=>t.height?s.cssVarBlock({height:t.height}):{});return(o,c)=>(f(),i("header",{class:h(n(s).b()),style:m(n(r))},[p(o.$slots,"default")],6))}});var j=l(J,[["__file","header.vue"]]);const K=a({name:"ElMain"}),R=a({...K,setup(e){const t=u("main");return(s,r)=>(f(),i("main",{class:h(n(t).b())},[p(s.$slots,"default")],2))}});var B=l(R,[["__file","main.vue"]]);const re=H(W,{Aside:I,Footer:k,Header:j,Main:B}),oe=_(I);_(k);const ne=_(j),ae=_(B),Y=$("character",{state:()=>({table:[],players:[]}),actions:{updateTable(e){if(e.reduce((r,o)=>r+o.length,0)>25*30){alert("数据过多");return}this.table=e.map(r=>({...r,waveIndex:-1,teamIndex:-1,locked:!1}));const s=new Map;for(const r of this.table){const o=r.id;s.has(o)||s.set(o,{id:o,countIfSup1:0,countIfSup0:0,absent:!1});const c=s.get(o);r.ifsup===1||r.ifsup==="1"?c.countIfSup1++:(r.ifsup===0||r.ifsup==="0")&&c.countIfSup0++}this.players=Array.from(s.values()),this.players.sort((r,o)=>Number(o.countIfSup0+o.countIfSup1)-Number(r.countIfSup0+r.countIfSup1))}},persist:{paths:["table","players"]}}),ce=$("waveInfo",{state:()=>({waves:[],cube:[],lock:!1}),actions:{resetCube(){const s=Y().players.length??0,r=this.waves.length??0;alert(`rows = ${s}, cols = ${r}`),this.cube=Array.from({length:s},()=>Array.from({length:r},()=>0))},addnormal(e="Normal"){if(this.lock){alert("数据已锁定");return}this.waves.push({difficulty:e}),this.cube.forEach(t=>{t.push(0)})},addhard(e="Hard"){if(this.lock){alert("数据已锁定");return}this.waves.push({difficulty:e}),this.cube.forEach(t=>{t.push(0)})},removeWave(e){if(this.lock){alert("数据已锁定");return}e===-1&&(e=this.waves.length-1),this.waves.splice(e,1),this.cube.forEach(t=>{e>=0&&e<t.length&&t.splice(e,1)})},clearWaves(){this.waves=[],this.resetCube()},changeCubeState(e,t,s){const r=this.cube[e][t];this.cube[e][t]=(r+s)%3}},persist:{paths:["waves","cube"]}});export{ne as E,te as a,ee as b,z as c,ce as d,re as e,oe as f,ae as g,U as h,se as i,Y as u};
